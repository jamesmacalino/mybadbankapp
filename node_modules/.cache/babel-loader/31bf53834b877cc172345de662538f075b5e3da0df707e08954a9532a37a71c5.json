{"ast":null,"code":"import _objectSpread from\"/Users/jmacalino/Documents/MIT-MERN/mybadbankapp/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/jmacalino/Documents/MIT-MERN/mybadbankapp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useContext}from'react';import{UserContext}from'./context';import Card from'./context';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Withdraw(){var _useState=useState(true),_useState2=_slicedToArray(_useState,2),show=_useState2[0],setShow=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),withdraw=_useState4[0],setWithdraw=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),status=_useState6[0],setStatus=_useState6[1];var ctx=useContext(UserContext);var james=ctx.users.find(function(x){return x.name==='james';});function validate(field,label){if(!field||isNaN(field)||james.balance<field){setStatus(\"Error! Can't \"+label+\" that much!\");setTimeout(function(){return setStatus(\"\");},3000);return false;}return true;}function handlewithdraw(){console.log(withdraw);if(!validate(withdraw,\"withdraw\"))return;ctx.users=[_objectSpread(_objectSpread({},james),{},{balance:james.balance-withdraw*1})];ctx.submissions.push({type:'New Withdraw',data:{amount:withdraw*1}});setShow(false);}function clearForm(){setWithdraw(\"\");setShow(true);}function isDisabled(){if(!withdraw)return true;return false;}return/*#__PURE__*/_jsx(Card,{bgcolor:\"danger\",header:\"Cash Withdrawal\",status:status,body:show?/*#__PURE__*/_jsxs(_Fragment,{children:[\"Balance: $\",james.balance,/*#__PURE__*/_jsx(\"br\",{}),\"Withdraw\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"input\",className:\"form-control\",id:\"withdraw\",placeholder:\"Withdraw Amount\",value:withdraw,onChange:function onChange(e){return setWithdraw(e.currentTarget.value);}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-light\",onClick:handlewithdraw,disabled:isDisabled(),children:\"Click To withdraw\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Success\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-light\",onClick:clearForm,children:\"Add another withdraw\"})]})});}export default Withdraw;","map":{"version":3,"names":["React","useState","useContext","UserContext","Card","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Withdraw","_useState","_useState2","_slicedToArray","show","setShow","_useState3","_useState4","withdraw","setWithdraw","_useState5","_useState6","status","setStatus","ctx","james","users","find","x","name","validate","field","label","isNaN","balance","setTimeout","handlewithdraw","console","log","_objectSpread","submissions","push","type","data","amount","clearForm","isDisabled","bgcolor","header","body","children","className","id","placeholder","value","onChange","e","currentTarget","onClick","disabled"],"sources":["/Users/jmacalino/Documents/MIT-MERN/mybadbankapp/src/components/withdraw.js"],"sourcesContent":["import React, {useState, useContext} from 'react';\nimport { UserContext } from './context';\nimport Card from './context';\n\nfunction Withdraw() {\n  const [show, setShow] = useState(true);\n  const [withdraw, setWithdraw] = useState(\"\");\n  const [status, setStatus] = useState(\"\");\n  const ctx = useContext(UserContext);\n  const james = ctx.users.find(x => x.name === 'james');\n\n  function validate(field, label) {\n    if (!field || isNaN(field) || james.balance < field) {\n      setStatus(\"Error! Can't \" + label + \" that much!\");\n      setTimeout(() => setStatus(\"\"), 3000);\n      return false;\n    }\n    return true;\n  }\n\n  function handlewithdraw() {\n    console.log(withdraw);\n    if (!validate(withdraw, \"withdraw\")) return;\n    ctx.users = [{...james, balance: james.balance - withdraw*1}];\n    ctx.submissions.push({type: 'New Withdraw', data: {amount: withdraw*1}});\n    setShow(false);\n  }\n\n  function clearForm() {\n    setWithdraw(\"\");\n    setShow(true);\n  }\n\n  function isDisabled() {\n    if (!withdraw) return true;\n    return false;\n  }\n\n  return (\n    <Card\n      bgcolor=\"danger\"\n      header=\"Cash Withdrawal\"\n      status={status}\n      body={\n        show ? (\n          <>\n            Balance: ${james.balance}\n            <br />\n            Withdraw\n            <br />\n            <input\n              type=\"input\"\n              className=\"form-control\"\n              id=\"withdraw\"\n              placeholder=\"Withdraw Amount\"\n              value={withdraw}\n              onChange={(e) => setWithdraw(e.currentTarget.value)}\n            />\n            <br />\n            <button\n              type=\"submit\"\n              className=\"btn btn-light\"\n              onClick={handlewithdraw}\n              disabled={isDisabled()}\n            >\n              Click To withdraw\n            </button>\n          </>\n        ) : (\n          <>\n            <h5>Success</h5>\n            <button type=\"submit\" className=\"btn btn-light\" onClick={clearForm}>\n              Add another withdraw\n            </button>\n          </>\n        )\n      }\n    />\n  );\n}\n\nexport default Withdraw;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}