{"ast":null,"code":"import _slicedToArray from\"/Users/jmacalino/Documents/MIT-MERN/mybadbankapp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";// Import necessary modules, hooks, contexts, and components\nimport React,{useState}from\"react\";import Card,{UserContext}from\"./context\";import{Link}from\"react-router-dom\";import'../App.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Login(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),checkEmail=_useState2[0],setCheckEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),checkPassword=_useState4[0],setCheckPassword=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),show=_useState6[0],setShow=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),status=_useState8[0],setStatus=_useState8[1];var ctx=React.useContext(UserContext);function validate(password,email){var user=ctx.users.find(function(user){return user.email===email;});if(!user||user.password!==password){setStatus(\"Error: Invalid login credentails\");setTimeout(function(){return setStatus(\"\");},3000);return false;}return true;}function handleLogin(e){e.preventDefault();if(!validate(checkPassword,checkEmail))return;var user=ctx.users.find(function(user){return user.email===checkEmail&&user.password===checkPassword;});if(user){ctx.setCurrentUser(user);setShow(false);}else{setStatus('Error: Invalid email or password');setTimeout(function(){return setStatus('');},3000);}}// component return\nreturn show?/*#__PURE__*/_jsx(Card,{bgcolor:\"warning\",header:\"Login\",status:status,body:/*#__PURE__*/_jsx(\"form\",{onSubmit:handleLogin,children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email address\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"input\",className:\"form-control\",id:\"emailCheck\",placeholder:\"Email\",value:checkEmail,onChange:function onChange(e){return setCheckEmail(e.currentTarget.value);}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",id:\"passwordCheck\",placeholder:\"Password\",value:checkPassword,onChange:function onChange(e){return setCheckPassword(e.currentTarget.value);}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-light button-spacing\",disabled:!checkEmail||!checkPassword,children:\"Login\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-light button-spacing\",children:/*#__PURE__*/_jsx(Link,{className:\"nav-link\",to:\"/createaccount/\",children:\"Create Account\"})})]})})}):/*#__PURE__*/_jsx(Card,{bgcolor:\"primary\",header:\"Welcome, \".concat(ctx.currentUser.name),status:status,body:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"text\",{children:[\"Balance: $\",ctx.currentUser?ctx.currentUser.balance:'0']})}),/*#__PURE__*/_jsxs(\"button\",{type:\"deposit\",className:\"btn btn-light button-spacing\",children:[\" \",/*#__PURE__*/_jsx(Link,{className:\"nav-link\",to:\"/deposit/\",children:\"Deposit\"})]}),/*#__PURE__*/_jsxs(\"button\",{type:\"withdraw\",className:\"btn btn-light button-spacing\",children:[\" \",/*#__PURE__*/_jsx(Link,{className:\"nav-link\",to:\"/withdraw/\",children:\"Withdraw\"})]})]})});}export default Login;","map":{"version":3,"names":["React","useState","Card","UserContext","Link","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Login","_useState","_useState2","_slicedToArray","checkEmail","setCheckEmail","_useState3","_useState4","checkPassword","setCheckPassword","_useState5","_useState6","show","setShow","_useState7","_useState8","status","setStatus","ctx","useContext","validate","password","email","user","users","find","setTimeout","handleLogin","e","preventDefault","setCurrentUser","bgcolor","header","body","onSubmit","children","type","className","id","placeholder","value","onChange","currentTarget","disabled","to","concat","currentUser","name","balance"],"sources":["/Users/jmacalino/Documents/MIT-MERN/mybadbankapp/src/components/login.js"],"sourcesContent":["// Import necessary modules, hooks, contexts, and components\nimport React, { useState } from \"react\";\nimport Card, { UserContext } from \"./context\";\nimport { Link } from \"react-router-dom\";\nimport '../App.css'\n\nfunction Login() {\n    const [checkEmail, setCheckEmail] = useState(\"\");\n    const [checkPassword, setCheckPassword] = useState(\"\");\n    const [show, setShow] = useState(true);\n    const [status, setStatus] = useState(\"\");\n\n    const ctx = React.useContext(UserContext);\n\n    function validate(password, email) {\n        const user = ctx.users.find((user) => user.email === email);\n        if (!user || user.password !== password) {\n            setStatus(\"Error: Invalid login credentails\");\n            setTimeout(() => setStatus(\"\"), 3000);\n            return false;\n        }\n        return true;\n    }\n\n    function handleLogin(e) {\n        e.preventDefault();\n        if (!validate(checkPassword, checkEmail)) return;\n\n        const user = ctx.users.find(\n            (user) => user.email === checkEmail && user.password === checkPassword\n        );\n\n        if (user) {\n            ctx.setCurrentUser(user);\n            setShow(false);\n        }\n        else {\n            setStatus('Error: Invalid email or password');\n            setTimeout(() => setStatus(''), 3000);\n        }\n    }\n\n    // component return\n    return (\n        show ? (\n\n            <Card\n                bgcolor=\"warning\"\n                header=\"Login\"\n                status={status}\n                body=\n                <form onSubmit={handleLogin} >\n                    <div>\n                        <label>Email address</label>\n                        <br />\n                        <input\n                            type=\"input\"\n                            className=\"form-control\"\n                            id=\"emailCheck\"\n                            placeholder=\"Email\"\n                            value={checkEmail}\n                            onChange={(e) => setCheckEmail(e.currentTarget.value)}\n                        />\n                        <br />\n                        <label>Password</label>\n                        <br />\n                        <input\n                            type=\"password\"\n                            className=\"form-control\"\n                            id=\"passwordCheck\"\n                            placeholder=\"Password\"\n                            value={checkPassword}\n                            onChange={(e) => setCheckPassword(e.currentTarget.value)}\n                        />\n                        <br />\n                        <button\n                            type=\"submit\"\n                            className=\"btn btn-light button-spacing\"\n                            disabled={!checkEmail || !checkPassword}\n                        >\n                            Login\n                        </button>\n                        <button type=\"button\" className=\"btn btn-light button-spacing\">\n                            <Link className=\"nav-link\" to=\"/createaccount/\">\n                                Create Account\n                            </Link>\n                        </button>\n                    </div>\n                </form>\n            />\n\n        ) : (\n            <Card\n                bgcolor=\"primary\"\n                header={`Welcome, ${ctx.currentUser.name}`}\n                status={status}\n                body={\n                    <>\n                        <div>\n                            <text>Balance: ${ctx.currentUser ? ctx.currentUser.balance : '0'}</text>\n                        </div>\n                        <button type=\"deposit\" className=\"btn btn-light button-spacing\">\n                            {\" \"}\n                            <Link className=\"nav-link\" to=\"/deposit/\">\n                                Deposit\n                            </Link>\n                        </button>\n                        <button type=\"withdraw\" className=\"btn btn-light button-spacing\">\n                            {\" \"}\n                            <Link className=\"nav-link\" to=\"/withdraw/\">\n                                Withdraw\n                            </Link>\n                        </button>\n\n                    </>\n                }\n            />\n        )\n\n\n    );\n}\n\nexport default Login"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}